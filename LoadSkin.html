async function loadSkin() {
  const nickname = document.getElementById("nickname").value.trim();
  const errorEl = document.getElementById("error");
  const resultEl = document.getElementById("result");

  errorEl.style.display = "none";
  resultEl.style.display = "none";

  if (!nickname) {
    errorEl.textContent = "Введите ник.";
    errorEl.style.display = "block";
    return;
  }

  try {
    const response = await fetch(`https://corsproxy.io/?http://api.mojang.com/users/profiles/minecraft/${nickname}`);
    if (!response.ok) throw new Error("Ник не найден");

    const data = await response.json();
    const uuid = data.id;

    document.getElementById("uuid").textContent = uuid;
    document.getElementById("head").src = `https://crafatar.com/avatars/${uuid}?size=150`;
    document.getElementById("body").src = `https://crafatar.com/renders/body/${uuid}?scale=6`;

    resultEl.style.display = "block";
  } catch (err) {
    errorEl.textContent = "Ошибка: " + err.message;
    errorEl.style.display = "block";
  }
}
